

@{
    ViewBag.Title = "UpdateCategory";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}


    <div class="col-md-5 mt-5 ml-5">
        <form>
            <fieldset disabled>
                <div class="form-group row">
                    <label for="disabledTextInput" class="col-sm-2 col-form-label">Category ID</label>
                    <div class="col-sm-10">
                        <input type="text" name="catID" class="form-control" value="@ViewBag.Cat.CategoryID">
                    </div>
                </div>
            </fieldset>
            <div class="form-group row">
                <label for="catName" class="col-sm-2 col-form-label">Category Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="categoryName" value="@ViewBag.Cat.CategoryName">
                </div>
            </div>
            <div class="form-group row">
                <label for="desc" class="col-sm-2 col-form-label">Description</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" name="description" value="@ViewBag.Cat.Description">
                </div>
            </div>

        </form>
        <button class="btn btn-primary" type="submit" id="btnUpdate">Güncelle</button>
    </div>


@section scripts
{
    <script>
        $("#btnUpdate").click(function () {
            var category = {
                "CategoryName": $("input[name=categoryName]").val(),
                "Description": $("input[name=description]").val(),
                "CategoryID": $("input[name=catID]").val()
            };
            $.ajax({
                type: "POST",
                url: "/Admin/Category/UpdateCategory",
                data: category,
                success: function (data) {
                    if (data == "ok") {
                        alert("Güncelleme Başarılı");
                        window.location.href = "/Admin/Category/Index";
                    }
                },
                error: function () {
                    alert("Silme işlemi başarısız");
                }
            });
        });
    </script>
}

